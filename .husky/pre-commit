echo "ğŸ” Running pre-commit checks..."

# Run linting
echo "ğŸ“ Running ESLint..."
npm run lint

# Check TypeScript compilation
echo "ğŸ”§ Checking TypeScript compilation..."
npm run type-check

# Run build check (only if there are changes in src/ or package.json)
if git diff --cached --name-only | grep -E '\.(ts|tsx|js|jsx|json)$' | grep -E '^(src/|package\.json)'; then
  echo "ğŸ—ï¸  Running build check..."
  npm run build:check
else
  echo "â­ï¸  Skipping build check (no relevant changes)"
fi

echo "âœ… All checks passed! Commit allowed."